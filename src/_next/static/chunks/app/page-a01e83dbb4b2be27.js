(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{370:(e,t,r)=>{Promise.resolve().then(r.bind(r,35))},35:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>z});var o=r(5155),s=r(2115);r(9601);let n=function(e){let{text:t,role:r}=e,{id:s,name:n,align:c,bgColor:a,fontColor:l}=r,i=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),d=new RegExp("^(".concat(i(String(s)),"|").concat(i(String(n)),"):")),p=t.replace(d,"").trim(),m="right"===c?"flex-end":"flex-start",h="right"===c?"10px 0px 10px 10px":"0px 10px 10px 10px";return(0,o.jsx)("section",{style:{display:"flex",alignItems:c,justifyContent:m},children:(0,o.jsx)("section",{style:{margin:"0px",padding:"8px 12px",backgroundColor:a,borderRadius:h,boxSizing:"border-box",overflowWrap:"break-word",textAlign:c,color:l},children:(0,o.jsx)("section",{style:{margin:"0px",padding:"0px",boxSizing:"border-box",overflowWrap:"break-word",fontSize:"15px"},children:(0,o.jsx)("section",{className:"paragraph text-align-type-justify break-words break-all",style:{textAlign:"justify",fontSize:"15px"},children:p})})})})},c=e=>{let t;let r=new Set,o=(e,o)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=o?o:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,n={setState:o,getState:s,getInitialState:()=>c,subscribe:e=>(r.add(e),()=>r.delete(e))},c=t=e(o,s,n);return n},a=e=>e?c(e):c,l=e=>e,i=e=>{let t=a(e),r=e=>(function(e,t=l){let r=s.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return s.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},d=(e=>e?i(e):i)(e=>({roles:[{id:1,name:"美工张铁牛@奇妙故事局",shortName:"美工张铁牛",bgColor:"#2780FE",fontColor:"#ffffff",align:"left",avatar:"https://cdn.workstore.com.cn/173322687600029273%E5%A4%B4%E5%83%8F4.png"},{id:2,name:"王大世故",shortName:"王大世故",bgColor:"#ffffff",fontColor:"#000000",align:"left",avatar:"https://cdn.workstore.com.cn/1642144954000200809EC0C8E4-9B9E-49DD-A1A5-F5423ECE454E.jpeg"},{id:3,name:"捧哏小助手",shortName:"素材",bgColor:"#ffffff",fontColor:"#000000",align:"right",avatar:"https://cdn.workstore.com.cn/1727672834000894581-1512212245240-L.gif"}],setRoles:t=>e({roles:t}),backgroundColor:"#ffffff",backgroundImage:"",backgroundOpacity:1,setBackgroundColor:t=>e({backgroundColor:t,backgroundImage:""}),setBackgroundImage:t=>e({backgroundImage:t,backgroundColor:""}),setBackgroundOpacity:t=>e({backgroundOpacity:t}),continuousAvatarMode:!1,setContinuousAvatarMode:t=>e({continuousAvatarMode:t}),nameColor:"#7f7f7f",setNameColor:t=>e({nameColor:t}),scrollBlockMode:"start",setScrollBlockMode:t=>e({scrollBlockMode:t}),scrollOffset:60,setScrollOffset:t=>e({scrollOffset:t}),maxImageWidth:180,setMaxImageWidth:t=>e({maxImageWidth:t})})),p=function(e){let{name:t}=e,{nameColor:r}=d();if(t.includes("@")){let e=t.split("@"),s=e[0],n="@"+e.slice(1).join("@");return(0,o.jsx)("section",{className:"paragraph-header",children:(0,o.jsxs)("span",{style:{fontSize:"14px",fontWeight:700},children:[(0,o.jsx)("span",{style:{color:r},children:s}),(0,o.jsx)("span",{style:{color:"#28C091",fontWeight:400},children:n})]})})}return(0,o.jsx)("section",{className:"paragraph-header",children:(0,o.jsx)("span",{style:{color:r},children:(0,o.jsx)("span",{style:{color:r,fontSize:"14px",fontWeight:700},children:t})})})},m=function(e){let{avatar:t,align:r}=e;return(0,o.jsx)("section",{style:{width:"40px",marginBottom:"4px",marginRight:"right"===r?"0":"8px",marginLeft:"left"===r?"0":"8px",flexShrink:0,marginTop:"6px"},children:(0,o.jsx)("img",{src:t,alt:"Avatar",className:"chat-avatar w-full h-full object-cover",style:{borderRadius:"10%",width:"40px",height:"40px"}})})},h=function(e){let{text:t,role:r}=e,s="",n="",{maxImageWidth:c}=d(),a=t.match(/\[img:(.*?)\]\[url:(.*?)\]/);a?(s=a[1],n=a[2]):s=t.replace("[img:","").replace("]","");let l="right"===r.align?"10px 0px 10px 10px":"0px 10px 10px 10px";return(0,o.jsx)("section",{style:{display:"flex",width:"100%",borderRadius:l,boxSizing:"border-box",justifyContent:"right"===r.align?"flex-end":"flex-start",alignItems:"right"===r.align?"flex-end":"flex-start"},className:"w-full",children:n?(0,o.jsx)("a",{href:n,className:"w-full",target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)("img",{src:s,alt:"Placeholder",style:{height:"auto",width:"50%",maxWidth:c+"px",borderRadius:l}})}):(0,o.jsx)("img",{src:s,alt:"Placeholder",style:{height:"auto",width:"50%",maxWidth:c+"px",borderRadius:l}})})};r(2175);let u=e=>{let{color:t="#000000",className:r="",size:s=24}=e;return(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 100 100",className:r,style:{color:t},children:[(0,o.jsx)("path",{className:"audio-arc",d:"M 58.250 17.033 C 56.462 18.649, 55 20.256, 55 20.604 C 55 20.952, 56.417 22.850, 58.149 24.822 C 59.881 26.795, 62.468 30.904, 63.899 33.954 C 66.183 38.824, 66.500 40.779, 66.500 50 C 66.500 59.221, 66.183 61.176, 63.899 66.046 C 62.468 69.096, 59.881 73.205, 58.149 75.178 C 56.417 77.150, 55.032 79.155, 55.072 79.632 C 55.112 80.109, 56.634 81.735, 58.454 83.245 L 61.764 85.991 65.841 80.707 C 74.635 69.308, 78.355 55.669, 76.195 42.750 C 74.831 34.593, 69.735 23.485, 64.747 17.797 L 61.500 14.094 58.250 17.033",stroke:"none",fill:t,"fill-rule":"evenodd"}),(0,o.jsx)("path",{className:"audio-arc",d:"M 44.030 30.469 C 40.923 33.675, 40.776 34.099, 42.205 35.728 C 49.040 43.520, 49.032 56.491, 42.187 64.291 C 40.734 65.947, 40.882 66.348, 44.141 69.607 L 47.665 73.132 51.239 67.816 C 55.988 60.751, 57.293 56.161, 56.830 48.159 C 56.429 41.250, 53.996 34.978, 49.682 29.741 L 47.410 26.982 44.030 30.469",stroke:"none",fill:t,"fill-rule":"evenodd"}),(0,o.jsx)("path",{id:"inner",d:"M 28 45.500 L 23.584 50 28 54.500 C 30.429 56.975, 32.961 59, 33.626 59 C 34.290 59, 35.608 56.975, 36.553 54.500 C 38.178 50.246, 38.178 49.754, 36.553 45.500 C 35.608 43.025, 34.290 41, 33.626 41 C 32.961 41, 30.429 43.025, 28 45.500",stroke:"none",fill:t,"fill-rule":"evenodd"})]})},x=e=>{let{color:t="#d84b4b",width:r=24,height:s=24,className:n}=e,c=Math.random().toString(36).substring(2,15);return(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:s,viewBox:"0 0 100 100",className:n,children:[(0,o.jsx)("style",{children:"\n          \n          \n          #middle-".concat(c," {\n            animation: middleArc 1.5s infinite;\n          }\n          \n          #outer-").concat(c," {\n            animation: outerArc 1.5s infinite;\n          }\n          \n          @keyframes middleArc {\n            0% { opacity: 0; }\n            33.3% { opacity: 1; }\n            66.6% { opacity: 1; }\n            100% { opacity: 0; }\n          }\n          \n          @keyframes outerArc {\n            0%, 33.3% { opacity: 0; }\n            66.6% { opacity: 1; }\n            100% { opacity: 0; }\n          }\n        ")}),(0,o.jsx)("path",{id:"outer-".concat(c),className:"audio-arc",d:"M 58.250 17.033 C 56.462 18.649, 55 20.256, 55 20.604 C 55 20.952, 56.417 22.850, 58.149 24.822 C 59.881 26.795, 62.468 30.904, 63.899 33.954 C 66.183 38.824, 66.500 40.779, 66.500 50 C 66.500 59.221, 66.183 61.176, 63.899 66.046 C 62.468 69.096, 59.881 73.205, 58.149 75.178 C 56.417 77.150, 55.032 79.155, 55.072 79.632 C 55.112 80.109, 56.634 81.735, 58.454 83.245 L 61.764 85.991 65.841 80.707 C 74.635 69.308, 78.355 55.669, 76.195 42.750 C 74.831 34.593, 69.735 23.485, 64.747 17.797 L 61.500 14.094 58.250 17.033",stroke:"none",fill:t,"fill-rule":"evenodd"}),(0,o.jsx)("path",{id:"middle-".concat(c),className:"audio-arc",d:"M 44.030 30.469 C 40.923 33.675, 40.776 34.099, 42.205 35.728 C 49.040 43.520, 49.032 56.491, 42.187 64.291 C 40.734 65.947, 40.882 66.348, 44.141 69.607 L 47.665 73.132 51.239 67.816 C 55.988 60.751, 57.293 56.161, 56.830 48.159 C 56.429 41.250, 53.996 34.978, 49.682 29.741 L 47.410 26.982 44.030 30.469",stroke:"none",fill:t,"fill-rule":"evenodd"}),(0,o.jsx)("path",{id:"inner-".concat(c),d:"M 28 45.500 L 23.584 50 28 54.500 C 30.429 56.975, 32.961 59, 33.626 59 C 34.290 59, 35.608 56.975, 36.553 54.500 C 38.178 50.246, 38.178 49.754, 36.553 45.500 C 35.608 43.025, 34.290 41, 33.626 41 C 32.961 41, 30.429 43.025, 28 45.500",stroke:"none",fill:t,"fill-rule":"evenodd"})]})},g=(0,s.forwardRef)((e,t)=>{let r,{url:n,direction:c,onPlayEnd:a,onManualPlay:l,color:i}=e,[d,p]=(0,s.useState)(!1),[m,h]=(0,s.useState)(0),[g,f]=(0,s.useState)(0),w=(0,s.useRef)(null),b=(0,s.useRef)(null);(0,s.useImperativeHandle)(t,()=>({play:()=>{w.current&&!d&&j()},pause:()=>{w.current&&d&&j()}})),(0,s.useEffect)(()=>{let e=new Audio(n);return w.current=e,e.addEventListener("loadedmetadata",()=>{let t=Math.round(e.duration);h(t),f(t)}),e.load(),e.addEventListener("ended",()=>{p(!1),f(Math.round(e.duration)),b.current&&(clearInterval(b.current),b.current=null),a&&a()}),()=>{e.pause(),e.removeEventListener("loadedmetadata",()=>{}),e.removeEventListener("ended",()=>{}),b.current&&clearInterval(b.current)}},[n,a]);let j=()=>{w.current&&(d?(w.current.pause(),w.current.currentTime=0,p(!1),f(m),b.current&&(clearInterval(b.current),b.current=null)):(w.current.play().catch(e=>{console.error("播放失败:",e)}),p(!0),l&&l(),b.current=window.setInterval(()=>{if(w.current){let e=Math.round(m-w.current.currentTime-1);f(e>0?e:0)}},1e3)))};return(0,o.jsx)("section",{className:"voice-container ".concat(c),children:(0,o.jsx)("section",{className:"voice-bubble",children:(0,o.jsxs)("section",{className:"voice-content flex items-center",onClick:j,style:{display:"flex",alignItems:"center",width:3*m+20+"px",flexDirection:"left"===c?"row":"row-reverse"},children:[d?(0,o.jsx)(x,{className:"voice-icon-playing voice-icon",color:i,width:24,height:24}):(0,o.jsx)(u,{className:"voice-icon",color:i,size:24}),(0,o.jsx)("span",{className:"voice-text text-sm",style:{fontSize:"15px"},children:(r=d?g:m,"".concat(r,"''"))})]})})})});r(4521);let f=function(e){let{message:t="这是一条默认消息",speed:r=50,onComplete:n}=e,[c,a]=(0,s.useState)(""),[l,i]=(0,s.useState)(0),[d,p]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{a(""),i(0),p(!1)},[t]),(0,s.useEffect)(()=>{if(l<t.length){let e=setTimeout(()=>{a(e=>e+t[l]),i(e=>e+1)},r);return()=>clearTimeout(e)}d||(p(!0),null==n||n())},[l,t,r,d,n]),(0,o.jsxs)("section",{className:"typing-message",children:[c,!d&&(0,o.jsx)("span",{className:"typing-cursor",children:"|"})]})},w=(0,s.forwardRef)((e,t)=>{let{text:r,role:n,audioId:c,onAudioEnd:a}=e,{align:l,bgColor:i,fontColor:d}=n,p="right"===l?"flex-end":"flex-start",m="right"===l?"10px 0px 10px 10px":"0px 10px 10px 10px",h=(0,s.useRef)(null),[u,x]=(0,s.useState)(!1);(0,s.useImperativeHandle)(t,()=>({play:()=>{var e;x(!0),null===(e=h.current)||void 0===e||e.play()},getId:()=>c,collapse:()=>{x(!1)},expand:()=>{x(!0)},pause:()=>{var e;null===(e=h.current)||void 0===e||e.pause()}}));let{audioUrl:w,msg:b}=(0,s.useMemo)(()=>{let e=r.match(/\[audio:(.*?)\](.*)/);return e?{audioUrl:e[1],msg:e[2].trim()}:{audioUrl:"",msg:r}},[r]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("section",{style:{display:"flex",alignItems:l,justifyContent:p},children:(0,o.jsx)("section",{style:{margin:"0px",padding:"5px 12px",backgroundColor:i,borderRadius:m,boxSizing:"border-box",overflowWrap:"break-word",textAlign:l,color:d,fontSize:"15px"},children:(0,o.jsx)(g,{ref:h,url:w,direction:l,onPlayEnd:a,onManualPlay:()=>{x(!0)},color:d})})}),u&&(0,o.jsx)("section",{style:{display:"flex",alignItems:l,justifyContent:p,marginTop:"4px"},children:(0,o.jsx)("section",{style:{margin:"0px",padding:"8px 12px",backgroundColor:i,borderRadius:m,boxSizing:"border-box",overflowWrap:"break-word",textAlign:l,color:d},children:(0,o.jsx)("section",{style:{margin:"0px",padding:"0px",boxSizing:"border-box",overflowWrap:"break-word",fontSize:"15px"},children:(0,o.jsx)("section",{className:"paragraph text-align-type-justify break-words break-all",style:{textAlign:"justify",fontSize:"15px"},children:(0,o.jsx)(f,{message:b})})})})})]})}),b=e=>{let{message:t,role:r,style:c,showRole:a,audioId:l,onAudioRegister:i,onAudioEnd:d}=e;r.align=t.startsWith("@@")?"right":"left";let u="right"===r.align?"row-reverse":"row",x=(0,s.useRef)(null),g=t.replace("@@".concat(r.shortName),"").replace("@".concat(r.shortName),"").trim();(0,s.useEffect)(()=>{x.current&&l&&i&&i(l,x.current)},[l,i]);let f=e=>e.startsWith("[audio:")?"audio":e.startsWith("[")&&e.endsWith("]")?e.startsWith("[img:")?"image":void 0:"message";return(0,o.jsxs)("section",{style:{...c,display:"flex",flexDirection:u,justifyContent:"flex-start",marginBottom:"8px"},children:[a&&(0,o.jsx)(m,{...r}),(0,o.jsxs)("section",{style:{textAlign:r.align,marginLeft:"left"==r.align&&a?"0":"48px",marginRight:"right"==r.align&&a?"0":"48px",width:"100%"},children:[a&&(0,o.jsx)(p,{name:r.name}),(()=>{switch(f(g)){case"audio":return(0,o.jsx)(w,{ref:x,text:g,role:r,audioId:l||"",onAudioEnd:d});case"image":return(0,o.jsx)(h,{text:g,role:r});default:return(0,o.jsx)(n,{text:g,role:r})}})()]})]})};var j=r(1536);let k=function(e){let{text:t}=e,r="",s="",n=t.match(/\[img:(.*?)\]\[url:(.*?)\]/);n?(r=n[1],s=n[2]):r=t.replace("[img:","").replace("]","");let c=(0,o.jsx)("img",{src:r,alt:"full",style:{maxWidth:"100%",maxHeight:"100%",borderRadius:"10px"}});return(0,o.jsx)("section",{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"10px",marginTop:"10px"},children:s?(0,o.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:c}):c})},v=function(e){let{text:t}=e;return(0,o.jsx)("section",{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"10px",marginTop:"10px"},children:(0,o.jsx)("p",{style:{fontSize:"15px",borderRadius:"10px",padding:"8px 12px",backgroundColor:"#f6f6f6"},children:t})})},y=function(e){let{text:t}=e,r=t.replace("[audio:","").replace("]","");return(0,o.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,o.jsxs)("audio",{controls:!0,children:[(0,o.jsx)("source",{src:r,type:"audio/mpeg"}),"Your browser does not support the audio element."]})})},N=e=>{let{text:t}=e,r=t.split("\n"),{roles:n,backgroundColor:c,backgroundImage:a,backgroundOpacity:l,continuousAvatarMode:i,scrollBlockMode:p,scrollOffset:m}=d(),h=(0,s.useRef)(null),u=(0,s.useRef)(null),[x,g]=(0,s.useState)({width:0,height:0}),[f,w]=(0,s.useState)(0),N=(0,s.useRef)(new Map),[C,E]=(0,s.useState)(!1),[F,S]=(0,s.useState)(0),[_,P]=(0,s.useState)(!1),O=(0,s.useRef)([]),R=()=>{let e=window.innerHeight-50-40,t=f?f-30:400,r=9.1*e/16,o=e;r>t&&(o=16*(r=t)/9.1),g({width:Math.round(r),height:Math.round(o)})};(0,s.useEffect)(()=>{u.current&&w(u.current.offsetWidth),R();let e=()=>{u.current&&w(u.current.offsetWidth),R()};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[f]),(0,s.useEffect)(()=>{N.current.clear(),O.current=[],S(0),E(!1)},[t]);let A=(e,t,r)=>{for(let t of r){let r=/^@{1,2}([^\s]+)\s/gm,o=e.match(r);if(o&&o.length>0&&o[0].replace(/^@{1,2}/,"").trim()===t.shortName)return t}return null},L=async()=>{if(h.current){var e;let t=document.createElement("iframe");document.body.appendChild(t),t.style.position="fixed",t.style.top=h.current.getBoundingClientRect().top+"px",t.style.left=h.current.getBoundingClientRect().left+"px",t.style.width=h.current.offsetWidth+"px",t.style.height=h.current.offsetHeight+"px",t.style.zIndex="999",t.style.backgroundColor="white",t.style.transition="transform 1s ease-in-out";let r=t.contentDocument||(null===(e=t.contentWindow)||void 0===e?void 0:e.document);if(r){r.open(),r.write(h.current.innerHTML),r.close();let e=r.createRange();e.selectNodeContents(r.body);let t=r.getSelection();t&&(t.removeAllRanges(),t.addRange(e));try{let e=new Blob([r.body.innerHTML],{type:"text/html"}),t=[new ClipboardItem({"text/html":e})];await navigator.clipboard.write(t),alert("预览效果已复制到剪贴板")}catch(e){alert("复制失败")}t&&t.removeAllRanges()}document.body.removeChild(t)}},W=(e,t)=>{t&&(console.log(e,t),N.current.set(e,t),O.current.includes(e)||O.current.push(e))},G=()=>{F<O.current.length-1&&S(e=>e+1)};(0,s.useEffect)(()=>{if(C&&O.current.length>0){let e=O.current[F],t=N.current.get(e),r=document.getElementById(e);if(r&&h.current){if(m){let e=r.offsetTop-h.current.offsetTop-m;h.current.scrollTo({top:e,behavior:"smooth"})}else r.scrollIntoView({behavior:"smooth",block:p})}t?setTimeout(()=>{t.play()},500):(console.log("未找到ID为".concat(e,"的音频引用，跳到下一个")),setTimeout(G,500))}},[C,F,p]),(0,s.useEffect)(()=>{C||(_?N.current.forEach(e=>{e.expand&&e.expand()}):N.current.forEach(e=>{e.collapse&&e.collapse()}))},[_,C]);let J=()=>{if(t.split("\n").filter(e=>e.trim().includes("[audio:")).length>0&&0===O.current.length){console.log("检测到音频消息但未正确注册，尝试重建索引"),O.current=[];let e=0;t.split("\n").forEach(t=>{if(t.trim().includes("[audio:")){let t="audio-".concat(e++);O.current.push(t)}})}},M="",z=0;return(0,o.jsxs)("div",{className:"preview-wrap flex flex-col gap-1 p-1",style:{minHeight:"calc(100vh - 220px)"},ref:u,children:[(0,o.jsxs)("div",{className:"preview-header flex items-center justify-between w-full relative",children:[(0,o.jsx)("h2",{className:"text-base font-bold h-[24px] flex",children:"效果预览"}),(0,o.jsxs)("div",{className:"btns flex gap-1",children:[(0,o.jsxs)("button",{className:"flex text-xs px-2 py-1 text-white rounded-md bg-yellow-500 hover:bg-yellow-600",onClick:L,children:[(0,o.jsx)(j.paH,{})," 复制预览"]}),(0,o.jsxs)("button",{className:"flex text-xs px-2 py-1 text-white rounded-md bg-green-500 hover:bg-green-600",onClick:()=>{E(!1),P(!0)},children:[(0,o.jsx)(j._AH,{})," 展开"]}),(0,o.jsxs)("button",{className:"flex text-xs px-2 py-1 text-white rounded-md bg-green-500 hover:bg-green-600",onClick:()=>{E(!1),P(!1)},children:[(0,o.jsx)(j.yyx,{})," 折叠"]}),(0,o.jsx)("button",{className:"flex text-xs px-2 py-1 text-white rounded-md ".concat(C?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600"),onClick:()=>{if(C){E(!1);let e=O.current[F],t=N.current.get(e);t&&t.pause()}else J(),O.current.length>0?(S(0),E(!0)):alert("没有可播放的音频消息")},children:C?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(j.wFo,{})," 停止播放"]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(j.gSK,{})," 自动播放"]})})]})]}),(0,o.jsx)("hr",{className:"my-1 border-gray-300"}),(0,o.jsx)("div",{className:"flex justify-center items-start w-full overflow-hidden",children:(0,o.jsx)("div",{id:"html-output",className:"preview-main custom-scrollbar flex flex-col mb-0 border border-gray-300 py-6 px-4",ref:h,style:{width:"".concat(x.width,"px"),height:"".concat(x.height,"px"),overflowY:"auto",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",transition:"width 0.3s, height 0.3s",backgroundColor:c||"#ffffff",backgroundImage:a?"linear-gradient(rgba(255, 255, 255, ".concat(1-l,"), rgba(255, 255, 255, ").concat(1-l,")), url(").concat(a,")"):"none",backgroundSize:"cover",backgroundPosition:"center"},children:r.map((e,t)=>{let r=e.trim();if(""===r)return null;let s=r.includes("[audio:"),c="";if(s&&(c="audio-".concat(z++)),r.startsWith("<a")&&r.endsWith("</a>"))return(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:r}},t);if(r.startsWith("@")){let e=A(r,t,n);if(!e)return M="",(0,o.jsx)(v,{text:r},t);{let n=M!==e.shortName;return(M=e.shortName,s)?(0,o.jsx)("section",{id:c,style:{marginBottom:"8px"},children:(0,o.jsx)(b,{message:r,role:e,showRole:n||!i,audioId:c,onAudioRegister:W,onAudioEnd:G},"chat-".concat(t))},t):(0,o.jsx)(b,{message:r,role:e,showRole:n||!i},t)}}return(M="",r.startsWith("[")&&r.endsWith("]"))?r.startsWith("[img:")?(0,o.jsx)(k,{text:r},t):r.startsWith("[audio:")?(0,o.jsx)("div",{id:c,children:(0,o.jsx)(y,{text:r},t)},t):(0,o.jsx)(v,{text:r},t):(0,o.jsx)(v,{text:r},t)})})})]})},C=[...new Set(["https://cdn.workstore.com.cn/173322687600029273%E5%A4%B4%E5%83%8F4.png","https://cdn.workstore.com.cn/173441604400025255故事局LOGO极简_状态 1.png","https://cdn.workstore.com.cn/1727672834000894581-1512212245240-L.gif","https://cdn.workstore.com.cn/173440881800044744unnamed (3).png","https://cdn.workstore.com.cn/173440881800055797unnamed (2).png","https://cdn.workstore.com.cn/173440881900033168unnamed (1).png","https://cdn.workstore.com.cn/173440881900027874unnamed.png","https://cdn.workstore.com.cn/173440881900051922unnamed.jpg","https://cdn.workstore.com.cn/173440881900055022u=2705103170,1157767287&fm=253&fmt=auto&app=138&f=JPEG.webp","https://cdn.workstore.com.cn/173440881900045790w700d1q75cms (8).jpg","https://cdn.workstore.com.cn/173440881900067900w700d1q75cms (7).jpg","https://cdn.workstore.com.cn/173440882000074895w700d1q75cms (6).jpg","https://cdn.workstore.com.cn/173440882000096381w700d1q75cms (5).jpg","https://cdn.workstore.com.cn/173440882000045529w700d1q75cms (4).jpg","https://cdn.workstore.com.cn/173440882000019089w700d1q75cms (3).jpg","https://cdn.workstore.com.cn/173440882000060058w700d1q75cms (2).jpg","https://cdn.workstore.com.cn/173440882000056331w700d1q75cms (1).jpg","https://cdn.workstore.com.cn/173440882100022396w700d1q75cms.jpg","https://cdn.workstore.com.cn/FvTTs9zwx7cnaVA4jErEWTPNsBHz","https://cdn.workstore.com.cn/FiRwHhmuyjJ9K9lY6q_o24BoYQYt","https://cdn.workstore.com.cn/FoLw3zbkVc79CjW7KvEculLIjNLa","https://cdn.workstore.com.cn/Fv-u9aRANTjwlaiJhs7fuEcpw7tn","https://cdn.workstore.com.cn/Fj3YbhYNvwfAmvM_487_Yj_SqGbW","https://cdn.workstore.com.cn/Fk6gPSvV4W-tUEZ_lK5YxKHLCAAL","https://cdn.workstore.com.cn/Fpy-oD4xm9KsXdenRQFyGSlwRSN7","https://cdn.workstore.com.cn/FpyqAij2XaUtyk5gbrIZFsOFN-9e","https://cdn.workstore.com.cn/FvSc-Q-gomnclDDDCIAsQMceM2iE","https://cdn.workstore.com.cn/Fgqso1di_d4aYxkn4Tuko75hZlGm","https://cdn.workstore.com.cn/FgZhgtlzxJ6FxbOF-SVpojTjVyVi","https://cdn.workstore.com.cn/Fit4bpZU6rtOiYtpJIUq8_Tjwytv","https://cdn.workstore.com.cn/FgEsZLDkttV84zbVG1Qc9CniyjJx","https://cdn.workstore.com.cn/FhO74qlBkuN4sHnj_bx6yJseW8gL","https://cdn.workstore.com.cn/FoZ9PSYkJMty4xbH4Yoh3cI1Oxpq","https://cdn.workstore.com.cn/FgyEWTamTppL77O_EcDaS8Zn6VZu","https://cdn.workstore.com.cn/Fk2L00wgcUzHR07QCuJzhTLXAG4W","https://cdn.workstore.com.cn/FoY3gPbmCV3WPPymSED_-NV8vw3e","https://cdn.workstore.com.cn/FmD7KGAFe8DKUO5_CZfjHYGxPboN","https://cdn.workstore.com.cn/Fm9fYBB6SghAMM7boyo39qkKcHTg","https://cdn.workstore.com.cn/FpaYyliKVqWYT0lsCaaqEvNUvH3W","https://cdn.workstore.com.cn/1645598550418","https://cdn.workstore.com.cn/1645598681974","https://cdn.workstore.com.cn/1645598755799","https://cdn.workstore.com.cn/1641817046985","https://cdn.workstore.com.cn/1641816038872","https://cdn.workstore.com.cn/1641816227353","https://cdn.workstore.com.cn/173528408500063466df08a99d3fb5f5debbd4bb70f8a1ae65.jpg","https://cdn.workstore.com.cn/173528974400063818WechatIMG457.jpeg","https://cdn.workstore.com.cn/173528439300079794u=1632003164,1629804580&fm=253&fmt=auto&app=138&f=JPEG.webp","https://cdn.workstore.com.cn/173528439300013998u=45098825,1416673037&fm=253&fmt=auto&app=120&f=JPEG.webp","https://cdn.workstore.com.cn/173528439300017789634b1b57gy1hpxz2nawh3j20j60j6gmx.jpg","https://cdn.workstore.com.cn/173528439300061054u=2033349311,215849916&fm=253&fmt=auto&app=138&f=GIF.gif","https://cdn.workstore.com.cn/1735284393000160429e31678cgy1fwpexxg2wgj20qo0qo0u3.jpg","https://cdn.workstore.com.cn/173528439300035636WechatIMG519.jpeg","https://cdn.workstore.com.cn/173528439300067776%E6%88%AA%E5%B1%8F2024-09-22%2010.17.47.png","https://cdn.workstore.com.cn/173528440300053296feESSW3F_Vnn3.jpeg","https://cdn.workstore.com.cn/173528408500024024v2-a034ea29c44418a2c55e76e58a5137da_r.jpg","https://cdn.workstore.com.cn/173528408600048496u=2035046068,855887267&fm=253&fmt=auto&app=120&f=JPEG.webp","https://cdn.workstore.com.cn/173528408600067901005F7JvCgy1hsmi3m8021j30m80m8q6w.jpg","https://cdn.workstore.com.cn/1735284086000493880074P3wTgy1h7jn495l1qj30u00towjz.jpg","https://cdn.workstore.com.cn/17352840860007527065a05171d7d9619601625f35bde66e4b936.jpeg","https://cdn.workstore.com.cn/173530773400043672223c144e2b724c08a5877352a7cfc0d6.png","https://cdn.workstore.com.cn/173530773400032797%E6%88%AA%E5%B1%8F2024-09-23%2012.40.15.png","https://cdn.workstore.com.cn/17353077340006118178b88159ly1g57p33fz3eg20dc0dc76o.jpeg","https://cdn.workstore.com.cn/173530773400041160WechatIMG438.jpeg","https://cdn.workstore.com.cn/174835742900032375u=3750324107,4207785120&fm=253&fmt=auto&app=138&f=JPEG.webp","https://cdn.workstore.com.cn/1748357430000700073bfe0708-ca68-4bb4-947e-8c36758e96ed.jpeg","https://cdn.workstore.com.cn/174835743000044453u=2404118907,3265020002&fm=253&fmt=auto&app=138&f=JPEG.webp","https://cdn.workstore.com.cn/174835743000070479u=3672909563,2161889193&fm=253&fmt=auto.webp","https://cdn.workstore.com.cn/174835743000067428u=3772423102,996914137&fm=253&fmt=auto&app=138&f=JPEG.webp","https://cdn.workstore.com.cn/174835743000043223u=2297862715,106224890&fm=253&fmt=auto&app=138&f=JPEG.webp","https://cdn.workstore.com.cn/174835743000075702u=2273112989,3562495649&fm=253&fmt=auto&app=138&f=JPEG.webp","https://cdn.workstore.com.cn/174835743000053184u=966095027,1327893187&fm=253&fmt=auto&app=138&f=JPEG.webp","https://cdn.workstore.com.cn/17483574310003158u=1752128170,123566301&fm=253&fmt=auto&app=138&f=JPEG.webp","https://cdn.workstore.com.cn/174835743100047127u=4126631089,2407405076&fm=253&fmt=auto&app=138&f=JPEG.webp","https://cdn.workstore.com.cn/17483574310004359u=2505456708,1936718415&fm=253&fmt=auto&app=120&f=JPEG.webp","https://cdn.workstore.com.cn/174835743100077224u=4041507142,3056077438&fm=253&fmt=auto&app=120&f=JPEG.webp","https://cdn.workstore.com.cn/174835743100065633u=710711202,3812865856&fm=253&fmt=auto&app=138&f=JPEG.webp","https://cdn.workstore.com.cn/174835743100080589u=276613703,2719352489&fm=253&fmt=auto&app=138&f=JPEG.webp","https://cdn.workstore.com.cn/174835743100056981src=http___safe-img.xhscdn.com_bw1_a836ade1-e2b6-4559-8c4c-92f7d90d52a5_imageView2_2_w_1080_format_jpg&refer=http___safe-img.xhscdn.webp","https://cdn.workstore.com.cn/174835743100024833src=http___safe-img.xhscdn.com_bw1_5c9d53ca-e80b-47a2-92f4-192626a0bea7_imageView2_2_w_1080_format_jpg&refer=http___safe-img.xhscdn.webp","https://cdn.workstore.com.cn/174835743100099473src=http___safe-img.xhscdn.com_bw1_0b87e8d1-ba41-4a59-8573-4529f7adab7a_imageView2_2_w_1080_format_jpg&refer=http___safe-img.xhscdn.webp","https://cdn.workstore.com.cn/174835743200058661src=http___safe-img.xhscdn.com_bw1_03c34c3b-5446-4d9e-b6b3-dad2dd7140fa_imageView2_2_w_1080_format_jpg&refer=http___safe-img.xhscdn.webp","https://cdn.workstore.com.cn/174835743200098772u=240004050,3244958115&fm=253&fmt=auto.webp","https://cdn.workstore.com.cn/174835743200077085u=2766678630,2263506798&fm=253&fmt=auto&app=120&f=JPEG.webp","https://cdn.workstore.com.cn/174835743200017355u=30336382,1116704584&fm=253&fmt=auto&app=120&f=JPEG.webp","https://cdn.workstore.com.cn/174835743200072978u=209342158,3332111806&fm=253&fmt=auto&app=120&f=JPEG.webp","https://cdn.workstore.com.cn/17483574320008780u=212230986,3555547834&fm=253&fmt=auto&app=138&f=JPEG.webp","https://cdn.workstore.com.cn/174835743200083582u=3217838212,795208401&fm=253&fmt=auto&app=138&f=JPEG.webp","https://cdn.workstore.com.cn/174835743200097260u=2102056758,2195628273&fm=253&fmt=auto&app=120&f=JPEG.webp","https://cdn.workstore.com.cn/17483574330001408u=2679746896,2119423638&fm=253&fmt=auto&app=120&f=JPEG.webp","https://cdn.workstore.com.cn/17483574330004058u=2054789902,3603556391&fm=253&fmt=auto&app=120&f=JPEG.webp","https://cdn.workstore.com.cn/174835743300063475u=2715544622,3564973785&fm=253&fmt=auto&app=120&f=JPEG.webp","https://cdn.workstore.com.cn/174835743300049272u=1349712405,1865100121&fm=253&fmt=auto&app=120&f=JPEG.webp","https://cdn.workstore.com.cn/174835743300014525u=1575434299,1242846208&fm=253&fmt=auto&app=120&f=JPEG.webp","https://cdn.workstore.com.cn/174835743300072647689b23d1-00b3-4148-9b56-1d95326af79b.jpeg","https://cdn.workstore.com.cn/17483574330008228301689773-22c0-49bb-84d2-09116466e95b.jpeg","https://cdn.workstore.com.cn/174835743300097167u=1742419757,1117072434&fm=253&fmt=auto&app=120&f=JPEG.webp","https://cdn.workstore.com.cn/1748357433000315550bc5cabc88d01e700c7ec843153ac4f8.jpg","https://cdn.workstore.com.cn/174835743400013592u=672559561,1306526306&fm=253&fmt=auto&app=138&f=JPEG_副本.jpg","https://cdn.workstore.com.cn/FkSzLyu8wUnZ7axdqBmgbVPMRP9-","https://cdn.workstore.com.cn/FgKJ4pJ_NbYROn07hwGoVNKAcWzU","https://cdn.workstore.com.cn/FlYKRFC9a4KGY1B-QiV6vapJAFjE","https://cdn.workstore.com.cn/Fi9DZ7hyQh1H7-LgBtfb1mrD7vAi","https://cdn.workstore.com.cn/FguXgiqrGDoSRxYBj-KAh0ZLjQ5X","https://cdn.workstore.com.cn/FqwzjqtcV-u7sjqdL6i_7kJXCeAS","https://cdn.workstore.com.cn/FkBXXtQvD99pUBP0vHCKFcyxYx3S","https://cdn.workstore.com.cn/FnzjdNiRn8Bpw_io8eRpJAZ3jEXm","https://cdn.workstore.com.cn/Fqy8UJJFIpZd3VwvoRFk56aoL9gL","https://cdn.workstore.com.cn/FjROv2uJZqb5Xqdxm3BLrYjDygTN","https://cdn.workstore.com.cn/Fhnh2mbRejOh_fL7roX0R8jiuM6U","https://cdn.workstore.com.cn/Fmsoz3pvBtfxrywYspbgpHifhiJJ","https://cdn.workstore.com.cn/FqrvqLGOQ2kcq-wCi7pbnhqBzgb1","https://cdn.workstore.com.cn/Fk4xsZrnGATp1B6YUJ3hySMlQOjp","https://cdn.workstore.com.cn/FocNdTPiPKFsX7pa4hnuP8QA3tqD","https://cdn.workstore.com.cn/FiC02uUtluQt4BpxL3hs6gqO0Y_Y","https://cdn.workstore.com.cn/ForGpjoN7GqDSvOMfZdawgvstEYd","https://cdn.workstore.com.cn/Fls7HUS56a2WAccNpBzOKnjQkqTE","https://cdn.workstore.com.cn/FiBkBmWivzR6XmlW4gD9BbThu6XL","https://cdn.workstore.com.cn/FrVP5okhB97OOxemtzZ2e8Ze7pjM","https://cdn.workstore.com.cn/FluSEnCsH8LmsxDhMs2wt-Nft2Wj","https://cdn.workstore.com.cn/FoZwdLd2rrRInuhh-XL_4C1_oJfl","https://cdn.workstore.com.cn/FgrQD9UakCxGI8hQbHidPlRDA7w8","https://cdn.workstore.com.cn/FrlrWmGisXmUmKWNYXI8Il8Zmf5T","https://cdn.workstore.com.cn/Fm-t3QbPUCkzhOApNTQHJPw2Wt5a","https://cdn.workstore.com.cn/Fj2esQpjSnoQLkpVMjb84bjs-N1q","https://cdn.workstore.com.cn/Fo3SFbnsatcj6ygFCaDoh1qdOeZB","https://cdn.workstore.com.cn/FtqZbfojXEdN8XaED3iKIsuM1ryb"])],E=e=>{let{onSelectAvatar:t,top:r,left:s}=e;return(0,o.jsx)("div",{className:"avatar-list fixed z-50 w-[890px] flex flex-wrap gap-1 p-1 bg-white border border-gray-200 rounded shadow-md",style:{top:"".concat(r,"px"),left:"".concat(s,"px")},children:C.map((e,r)=>(0,o.jsx)("img",{src:e,alt:"Avatar",className:"avatar w-9 cursor-pointer",onClick:()=>t(e)},r))})},F=function(e){let{avatar:t,onChangeAvatar:r}=e,[n,c]=(0,s.useState)(!1),a=(0,s.useRef)(null),l=(0,s.useRef)(null),[i,d]=(0,s.useState)({top:0,left:0}),p=()=>{if(l.current){let e=l.current.getBoundingClientRect();d({top:e.top,left:e.right})}};return(0,o.jsxs)("div",{className:"avatar-wrapper relative",onMouseEnter:()=>{p(),c(!0)},onMouseLeave:()=>c(!1),children:[(0,o.jsx)("div",{ref:l,onClick:()=>{a.current&&a.current.click()},style:{cursor:"pointer"},className:"relative avatar-container",children:t?(0,o.jsx)("img",{src:t,alt:"Avatar",style:{width:"80px",height:"80px",borderRadius:"10%"}}):(0,o.jsx)("div",{style:{width:"80px",height:"80px",borderRadius:"10%",backgroundColor:"#eee"}})}),n&&(0,o.jsx)(E,{onSelectAvatar:e=>{r(e),c(!1)},top:i.top,left:i.left}),(0,o.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){let t=new FileReader;t.onload=()=>{t.result&&r(t.result)},t.readAsDataURL(e.target.files[0])}},ref:a,style:{display:"none"}})]})},S=e=>{let{id:t,name:r,shortName:s,align:n,bgColor:c,fontColor:a,avatar:l,onChange:i}=e,d=e=>{i({id:t,name:r,shortName:s,bgColor:c,fontColor:a,avatar:e,align:n})},p=(e,o)=>{"bgColor"===o?i({id:t,name:r,shortName:s,bgColor:e,fontColor:a,avatar:l,align:n}):"fontColor"===o&&i({id:t,name:r,shortName:s,bgColor:c,fontColor:e,avatar:l,align:n})};return(0,o.jsx)("div",{className:"role-wrap mb-4 text-xs",children:(0,o.jsxs)("div",{className:"flex gap-4",children:[(0,o.jsx)(F,{avatar:l,onChangeAvatar:d}),(0,o.jsxs)("div",{className:"role-info flex flex-col gap-1 flex-grow",children:[(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)("label",{htmlFor:"name",children:"角色名称："}),(0,o.jsx)("input",{id:"name",type:"text",className:"flex-grow",value:r,onChange:e=>{i({id:t,name:e.target.value,shortName:s,bgColor:c,fontColor:a,avatar:l,align:n})}})]}),(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)("label",{htmlFor:"shortName",children:"角色代码："}),(0,o.jsx)("input",{id:"shortName",className:"flex-grow",type:"text",value:s,onChange:e=>{i({id:t,name:r,shortName:e.target.value,bgColor:c,fontColor:a,avatar:l,align:n})}})]}),(0,o.jsxs)("div",{className:"avatar-image-url flex",children:[(0,o.jsx)("label",{htmlFor:"avatar",children:"角色头像："}),(0,o.jsx)("input",{type:"text",id:"avatar",className:"flex-grow",value:l,onChange:e=>d(e.target.value)})]}),(0,o.jsxs)("div",{className:"color-options flex",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{children:"字体:"}),(0,o.jsx)("input",{type:"color",value:a,onChange:e=>p(e.target.value,"fontColor")})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{children:"背景:"}),(0,o.jsx)("input",{type:"color",value:c,onChange:e=>p(e.target.value,"bgColor")})]})]})]})]})})};r(8005);let _=function(){let{nameColor:e,setNameColor:t}=d(),[r,n]=(0,s.useState)(e||"#1E90FF");return(0,o.jsxs)("div",{className:"flex gap-4 items-center px-2 mb-2",children:[(0,o.jsx)("div",{style:{fontWeight:500},children:"名字颜色"}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"8px"},children:[(0,o.jsx)("div",{style:{width:"30px",height:"30px",borderRadius:"4px",border:"1px solid #ccc",overflow:"hidden"},children:(0,o.jsx)("input",{type:"color",value:r,onChange:e=>{let r=e.target.value;n(r),t(r)},style:{width:"150%",height:"150%",marginLeft:"-25%",marginTop:"-25%",cursor:"pointer"}})}),(0,o.jsx)("input",{type:"text",value:r,onChange:e=>{let r=e.target.value;n(r),t(r)},placeholder:"颜色代码 (例如: #1E90FF)",style:{maxWidth:"200px",padding:"2px",border:"1px solid #ccc",borderRadius:"4px"}})]})]})},P=function(){let{roles:e,setRoles:t}=d(),[r,n]=(0,s.useState)("#ffffff"),[c,a]=(0,s.useState)("#000000");return(0,o.jsxs)("div",{className:"message-color-settings p-2",children:[(0,o.jsxs)("div",{className:"font-medium mb-2",children:["统一消息颜色",(0,o.jsx)("span",{className:"text-xs text-gray-500",children:"(除第一个角色)"})]}),(0,o.jsxs)("div",{className:"flex gap-2 items-center text-sm",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("label",{className:"block mb-1",children:"背景"}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"color",value:r,onChange:e=>n(e.target.value),className:"mr-2 w-8 h-8"}),(0,o.jsx)("input",{type:"text",value:r,onChange:e=>n(e.target.value),className:"border px-2 py-1 w-16 text-sm"})]})]}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("label",{className:"block mb-1",children:"字体"}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"color",value:c,onChange:e=>a(e.target.value),className:"mr-2 w-8 h-8"}),(0,o.jsx)("input",{type:"text",value:c,onChange:e=>a(e.target.value),className:"border px-2 py-1 w-16 text-sm"})]})]}),(0,o.jsx)("button",{onClick:()=>{if(e.length<=1)return;let o=[...e];for(let e=1;e<o.length;e++)o[e]={...o[e],bgColor:r,fontColor:c};t(o)},className:"bg-orange-500 hover:bg-orange-600 text-white p-1 px-2 rounded",children:"应用"})]})]})},O=function(){let{roles:e,setRoles:t}=d(),r=(r,o)=>{let s=[...e];s[r]=o,t(s)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(_,{}),(0,o.jsx)(P,{}),(0,o.jsxs)("div",{className:"custom-scrollbar",style:{height:"calc(100vh - 260px)",overflowY:"auto"},children:[e.map((e,t)=>(0,o.jsx)(S,{...e,onChange:e=>r(t,e)},t)),(0,o.jsx)("div",{className:"button-group flex gap-2",children:(0,o.jsxs)("button",{onClick:()=>{if(e.length>=26)return;let r=e.length+1;t([...e,{id:r,name:"新角色"+r,shortName:"新角色"+r,bgColor:"#f6f6f6",fontColor:"#000000",align:"left",avatar:"https://cdn.workstore.com.cn/173441604400025255故事局LOGO极简_状态 1.png"}])},className:"add-role-button",children:[(0,o.jsx)(j.NPy,{style:{marginRight:"8px"}}),"添加角色"]})})]})]})},R=function(){let{backgroundColor:e,backgroundImage:t,backgroundOpacity:r,setBackgroundColor:n,setBackgroundImage:c,setBackgroundOpacity:a}=d(),[l,i]=(0,s.useState)(e||"#FFFFFF"),[p,m]=(0,s.useState)(t||""),[h,u]=(0,s.useState)(r||1),x=e=>{m(""),c(""),i(e),n(e)},g=e=>{c(e),m(e)};return(0,o.jsxs)("div",{className:"p-2",children:[(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h3",{className:"text-sm font-semibold mb-2",children:"预设颜色"}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2",children:["#FFFFFF","#1A191F","#F2F2F2","#3e3e3e","#212121","#000000"].map(r=>(0,o.jsx)("div",{className:"w-8 h-8 rounded-md cursor-pointer border border-gray-300 flex items-center justify-center",style:{backgroundColor:r},onClick:()=>x(r),children:e.toLowerCase()===r.toLowerCase()&&!t&&(0,o.jsx)(j.CMH,{className:"text-gray-600"})},r))})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h3",{className:"text-sm font-semibold mb-2",children:"自定义颜色"}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"w-10 h-10 rounded-md border border-gray-300",style:{backgroundColor:l}}),(0,o.jsx)("input",{type:"text",value:l,onChange:e=>{i(e.target.value)},placeholder:"#ffffff",className:"border border-gray-300 rounded-md px-3 py-2 text-sm flex-grow"}),(0,o.jsx)("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-md text-sm",onClick:()=>{m(""),c(""),n(l)},children:"应用颜色"})]})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h3",{className:"text-sm font-semibold mb-2",children:"预设背景图片"}),(0,o.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{url:"https://cdn.workstore.com.cn/174896282600080796背景白.png",name:"背景白"},{url:"https://cdn.workstore.com.cn/17489628260003245背景黑.png",name:"背景黑"},{url:"https://cdn.workstore.com.cn/174913919800019879带徽章的背景.png",name:"背景带徽章"},{url:"https://images.pexels.com/photos/20420396/pexels-photo-20420396.jpeg",name:"自然风光"},{url:"https://images.pexels.com/photos/32308025/pexels-photo-32308025.jpeg",name:"城市风景"},{url:"https://images.pexels.com/photos/8922328/pexels-photo-8922328.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",name:"抽象艺术"},{url:"https://images.pexels.com/photos/4045728/pexels-photo-4045728.jpeg",name:"纹理背景"},{url:"https://images.pexels.com/photos/32326763/pexels-photo-32326763.jpeg",name:"简约设计"},{url:"https://images.pexels.com/photos/6562811/pexels-photo-6562811.jpeg",name:"渐变色彩"}].map(e=>(0,o.jsxs)("div",{className:"h-20 rounded-md cursor-pointer border border-gray-300 overflow-hidden relative",onClick:()=>g(e.url),children:[(0,o.jsx)("img",{src:e.url,alt:e.name,className:"w-full h-full object-cover"}),(0,o.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs py-1 px-2 text-center",children:e.name}),t===e.url&&(0,o.jsx)("div",{className:"absolute top-2 right-2 bg-white bg-opacity-70 rounded-full p-1",children:(0,o.jsx)(j.CMH,{className:"text-green-600"})})]},e.url))})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h3",{className:"text-sm font-semibold mb-2",children:"自定义背景图片"}),(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,o.jsx)("input",{type:"text",value:p,onChange:e=>{m(e.target.value)},placeholder:"输入图片URL",className:"border border-gray-300 rounded-md px-3 py-2 text-sm"}),(0,o.jsx)("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-md text-sm w-24",onClick:()=>{p.trim()&&c(p)},children:"应用图片"})]})]}),t&&(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h3",{className:"text-sm font-semibold mb-2",children:"背景透明度"}),(0,o.jsx)("div",{className:"flex flex-col gap-2",children:(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:h,onChange:e=>{let t=parseFloat(e.target.value);u(t),a(t)},className:"w-full"}),(0,o.jsxs)("span",{className:"text-sm w-12 text-right",children:[Math.round(100*h),"%"]})]})})]}),(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsx)("h3",{className:"text-sm font-semibold mb-2",children:"预览效果"}),(0,o.jsx)("div",{className:"w-full h-24 border border-gray-300 rounded-md",style:{backgroundColor:e||"#ffffff",backgroundImage:t?"linear-gradient(rgba(255, 255, 255, ".concat(1-r,"), rgba(255, 255, 255, ").concat(1-r,")), url(").concat(t,")"):"none",backgroundSize:"cover",backgroundPosition:"center"}})]})]})},A=function(){let{continuousAvatarMode:e,setContinuousAvatarMode:t,scrollBlockMode:r,setScrollBlockMode:s,scrollOffset:n,setScrollOffset:c,maxImageWidth:a,setMaxImageWidth:l}=d();return(0,o.jsxs)("div",{className:"p-4",children:[(0,o.jsx)("h3",{className:"text-lg font-medium mb-4",children:"显示模式设置"}),(0,o.jsxs)("div",{className:"flex items-center mb-3",children:[(0,o.jsx)("input",{id:"continuousAvatarMode",type:"checkbox",className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500",checked:e,onChange:e=>{t(e.target.checked)}}),(0,o.jsx)("label",{htmlFor:"continuousAvatarMode",className:"ml-2 block text-sm text-gray-900",children:"相同角色连续发言只显示第一个头像"})]}),(0,o.jsx)("p",{className:"text-xs text-gray-500 mt-2 mb-4",children:"启用此选项后，当同一角色连续发言时，只有第一条消息会显示头像，让对话看起来更加简洁。"}),(0,o.jsx)("h3",{className:"text-lg font-medium mb-4",children:"垂直滚动方式"}),(0,o.jsx)("h4",{className:"text-sm",children:"1. 对齐模式"}),(0,o.jsxs)("select",{id:"scrollBlockMode",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-600 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:r,onChange:e=>{s(e.target.value)},children:[(0,o.jsx)("option",{value:"start",children:"顶部对齐"}),(0,o.jsx)("option",{value:"center",children:"居中对齐"}),(0,o.jsx)("option",{value:"end",children:"底部对齐"}),(0,o.jsx)("option",{value:"nearest",children:"最近边缘"})]}),(0,o.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"设置自动播放或滚动时，内容在视口中的对齐方式。"}),(0,o.jsx)("hr",{className:"my-6"}),(0,o.jsx)("h4",{className:"mt-4 text-sm",children:"2. 偏移模式"}),(0,o.jsx)("input",{type:"range",min:"0",max:"200",value:n,onChange:e=>c(Number(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,o.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[(0,o.jsx)("span",{children:"0"}),(0,o.jsxs)("span",{children:[n,"px"]}),(0,o.jsx)("span",{children:"200"})]}),(0,o.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["顶部留白。当数值为0时，即为关闭。",(0,o.jsx)("br",{}),"音频消息距离上边缘的偏移量，单位为像素。可以调整自动播放时内容的可见区域。"]}),(0,o.jsx)("h3",{className:"text-lg font-medium mt-4",children:"图片最大宽度"}),(0,o.jsx)("input",{type:"range",min:"0",max:"240",value:a,onChange:e=>l(Number(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,o.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[(0,o.jsx)("span",{children:"0"}),(0,o.jsxs)("span",{children:[a,"px"]}),(0,o.jsx)("span",{children:"240"})]})]})},L=function(){let[e,t]=(0,s.useState)("roles");return(0,o.jsxs)("div",{className:"flex flex-col flex-grow gap-1 p-1 overflow-y-hidden",style:{height:"calc(100vh - 4rem)"},children:[(0,o.jsxs)("div",{className:"flex border-b border-gray-300",children:[(0,o.jsx)("button",{className:"py-1 px-4 font-medium ".concat("roles"===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>t("roles"),children:"角色管理"}),(0,o.jsx)("button",{className:"py-1 px-4 font-medium ".concat("background"===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>t("background"),children:"背景设置"}),(0,o.jsx)("button",{className:"py-1 px-4 font-medium ".concat("mode"===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>t("mode"),children:"模式设置"})]}),(0,o.jsxs)("div",{className:"mt-4",children:["background"===e&&(0,o.jsx)(R,{}),"roles"===e&&(0,o.jsx)(O,{}),"mode"===e&&(0,o.jsx)(A,{})]})]})},W=["https://cdn.workstore.com.cn/174835992900099631八卦.gif","https://cdn.workstore.com.cn/174835981300071640阿弥陀佛.webp","https://cdn.workstore.com.cn/174835981400011159啊这…….png","https://cdn.workstore.com.cn/174835981400082877抱抱.jpeg","https://cdn.workstore.com.cn/174835981400017145不简单.jpg","https://cdn.workstore.com.cn/174835981500033372承受不住.jpg","https://cdn.workstore.com.cn/174835981500015527大哭.gif","https://cdn.workstore.com.cn/17483598150003404大哭2.gif","https://cdn.workstore.com.cn/174835981600038283大哭3.gif","https://cdn.workstore.com.cn/174835981600013080东北.jpeg","https://cdn.workstore.com.cn/174835981600089139翻车.png","https://cdn.workstore.com.cn/17483598170008353搞事.jpg","https://cdn.workstore.com.cn/174835981700086971鼓掌.jpg","https://cdn.workstore.com.cn/174835981700020641鼓掌高手.gif","https://cdn.workstore.com.cn/174835981800081212哈哈哈.gif","https://cdn.workstore.com.cn/174835981900026243哈哈哈2.gif","https://cdn.workstore.com.cn/174835981900092864哈哈哈3.gif","https://cdn.workstore.com.cn/174835981900084707蛤？.jpg","https://cdn.workstore.com.cn/174835982000048054还是快别说了.png","https://cdn.workstore.com.cn/174835982000076910害怕.gif","https://cdn.workstore.com.cn/174835982000074455害怕2.jpg","https://cdn.workstore.com.cn/174835982000055031好奇.jpg","https://cdn.workstore.com.cn/174835982100032768黑人问号.jpg","https://cdn.workstore.com.cn/174835982100062030欢呼.gif","https://cdn.workstore.com.cn/174835982100040037欢呼雀跃.gif","https://cdn.workstore.com.cn/1748359822000531欢呼声.jpg","https://cdn.workstore.com.cn/174835982200094957欢迎.gif","https://cdn.workstore.com.cn/174835982200064040会是谁呢.png","https://cdn.workstore.com.cn/174835982200071481惊吓.jpg","https://cdn.workstore.com.cn/174835982300099885惊讶.gif","https://cdn.workstore.com.cn/174835982300032294可云.gif","https://cdn.workstore.com.cn/174835982400021523哭.jpg","https://cdn.workstore.com.cn/174835982400024938哭泣.gif","https://cdn.workstore.com.cn/174835982500012726冷漠.jpg","https://cdn.workstore.com.cn/174835982500030842脸都不要了.png","https://cdn.workstore.com.cn/17483598250005634没眼看.png","https://cdn.workstore.com.cn/174835982500094049你猜我为什么不笑.png","https://cdn.workstore.com.cn/174835982600059103排山倒海.gif","https://cdn.workstore.com.cn/174835982600073916期待.jpg","https://cdn.workstore.com.cn/174835982600018574期待.png","https://cdn.workstore.com.cn/174835982600078429前来吃瓜.JPG","https://cdn.workstore.com.cn/17483598270001575全部震惊.jpeg","https://cdn.workstore.com.cn/174835982700074924全是套路.webp","https://cdn.workstore.com.cn/174835982700080220雀跃.gif","https://cdn.workstore.com.cn/174835982800051079谁.png","https://cdn.workstore.com.cn/174835982800070499谁呀.jpg","https://cdn.workstore.com.cn/17483598280004071深度学习.jpg","https://cdn.workstore.com.cn/174835982900017319什么？.png","https://cdn.workstore.com.cn/174835982900067403生气.gif","https://cdn.workstore.com.cn/174835982900059427生气2.gif","https://cdn.workstore.com.cn/174835983000019259生气3.gif","https://cdn.workstore.com.cn/174835983000096395算命.jpg","https://cdn.workstore.com.cn/174835983000024310叹气.gif","https://cdn.workstore.com.cn/174835983000040141踢飞.png","https://cdn.workstore.com.cn/174835983100084511偷看.gif","https://cdn.workstore.com.cn/174835983100019344偷听.jpg","https://cdn.workstore.com.cn/174835983100035241哇.png","https://cdn.workstore.com.cn/17483598320006785哇哦.gif","https://cdn.workstore.com.cn/174835983200098717问号脸.jpg","https://cdn.workstore.com.cn/17483598320007103我可以.png","https://cdn.workstore.com.cn/174835983300082017我忍了.JPEG","https://cdn.workstore.com.cn/17483598330006732我想不通.gif","https://cdn.workstore.com.cn/174835983300070019无语.gif","https://cdn.workstore.com.cn/174835983400093236无语2.gif","https://cdn.workstore.com.cn/174835983400048903吸氧.gif","https://cdn.workstore.com.cn/174835983400042237下一个.jpg","https://cdn.workstore.com.cn/174835983500089641小猫啊？.jpg","https://cdn.workstore.com.cn/174835983500083620小猫震惊.jpg","https://cdn.workstore.com.cn/174835983500095214兴奋.gif","https://cdn.workstore.com.cn/174835983500019673咬牙切齿.jpg","https://cdn.workstore.com.cn/174835983500055749要来了.png","https://cdn.workstore.com.cn/174835983500083456疑问.jpg","https://cdn.workstore.com.cn/174835983500027160意外收获.jpeg","https://cdn.workstore.com.cn/174835983600059429再见.gif","https://cdn.workstore.com.cn/174835983600071601再见.jpeg","https://cdn.workstore.com.cn/174835983600072986炸裂.gif","https://cdn.workstore.com.cn/174835983600022346展开说说.jpg","https://cdn.workstore.com.cn/174835983600037994这不合理.jpg","https://cdn.workstore.com.cn/174835983600099325震惊.gif","https://cdn.workstore.com.cn/174835983700098018震惊.jpg","https://cdn.workstore.com.cn/174835983700020862震惊2.gif","https://cdn.workstore.com.cn/174835983800021361震惊2.JPG","https://cdn.workstore.com.cn/174835983800069212震惊3.gif","https://cdn.workstore.com.cn/174835983800059364抓马.jpeg"],G=function(e){let{onEmojiSelect:t,onClose:r}=e;return(0,o.jsxs)("div",{className:"absolute z-10 bg-white border border-gray-200 rounded-md shadow-lg p-2 max-h-[620px] overflow-y-auto w-full",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-2 pb-2 border-b border-gray-200",children:[(0,o.jsx)("h3",{className:"text-sm font-semibold",children:"选择表情"}),(0,o.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),(0,o.jsx)("div",{className:"flex gap-2 w-full flex-wrap",children:W.map((e,r)=>(0,o.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded flex items-center justify-center",onClick:()=>t(e),children:(0,o.jsx)("img",{src:e,alt:"表情",className:"w-16 h-16 object-contain",onError:e=>{e.target.src="https://cdn.workstore.com.cn/173441604400025255故事局LOGO极简_状态 1.png"}})},r))})]})},J=e=>{let{text:t,setText:r}=e,{roles:n,setRoles:c}=d(),[a,l]=(0,s.useState)(t),[i,p]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),[u,x]=(0,s.useState)({start:0,end:0}),g=(0,s.useRef)(null),f=(0,s.useRef)(null),w=e=>{let t=e.split("\n"),r=/^@{1,2}([^\s]+)\s/gm,o=new Set;return t.forEach(e=>{for(let t of e.matchAll(r))o.add(t[1])}),Array.from(o)};return(0,s.useEffect)(()=>{p(t!==a)},[a]),(0,s.useEffect)(()=>{let e=e=>{if(m&&f.current&&!f.current.contains(e.target)){let t=e.target;t.closest(".emoji-btn")||t.closest(".emoji-list")||h(!1)}};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[m]),(0,o.jsxs)("div",{onDrop:e=>{var t;e.preventDefault();let r=null===(t=e.dataTransfer.files)||void 0===t?void 0:t[0];if(r){let e=new FileReader;e.onload=e=>{var t;l(null===(t=e.target)||void 0===t?void 0:t.result)},e.readAsText(r)}},onDragOver:e=>{e.preventDefault()},className:"relative w-full h-full p-1 flex flex-col gap-1",style:{minHeight:"calc(100vh - 240px)"},children:[(0,o.jsxs)("div",{className:"flex h-[24px] items-center justify-between",children:[(0,o.jsx)("h2",{className:"text-base font-bold",children:"脚本编辑"}),(0,o.jsxs)("div",{className:"btns flex items-center gap-2",children:[(0,o.jsx)("button",{onClick:()=>{l(a.replace(/^(@{1,2}[^\s]+)\s\[audio\:[^\]]+\]\n(\1)\s[\(|（]语音转文字[\)|）]/gm,(e,t)=>e.replace("\n".concat(t," (语音转文字)"),"").replace("\n".concat(t," （语音转文字）"),"")))},className:"flex gap-2 right-[200px] top-[4px] text-xs py-1 px-2 rounded-md bg-blue-400 text-white",children:"整理文稿"}),(0,o.jsx)("button",{className:"right-[110px] top-[4px] text-xs py-1 px-2 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-700 emoji-btn",onClick:()=>{f.current&&x({start:f.current.selectionStart,end:f.current.selectionEnd}),h(!m)},children:"插入表情"}),(0,o.jsxs)("button",{onClick:()=>{let e=w(a),t=[...n];e.forEach(e=>{t.some(t=>t.shortName===e)||t.push({id:t.length+1,name:e,shortName:e,bgColor:"#f2f2f2",fontColor:"#000000",align:"left",avatar:"https://cdn.workstore.com.cn/173441604400025255故事局LOGO极简_状态 1.png"})}),c(t),r(a),p(!1)},className:"flex gap-2 right-4 top-[4px] text-xs py-1 px-2 rounded-md ".concat(i?"bg-blue-500":"bg-green-500"," text-white"),children:[i?(0,o.jsx)(j.uO9,{}):(0,o.jsx)(j.CMH,{}),i?"编辑中":"已提交"]})]})]}),(0,o.jsx)("hr",{className:"my-1 border-gray-300"}),m&&(0,o.jsx)("div",{className:"fixed right-[8px] w-[990px] top-[36px] emoji-list",children:(0,o.jsx)(G,{onEmojiSelect:e=>{if(f.current){let t=u.start,r=u.end,o=f.current.scrollTop,s="[img:".concat(e,"]");l(a.substring(0,t)+s+a.substring(r)),h(!1),setTimeout(()=>{if(f.current){let e=t+s.length;f.current.focus(),f.current.setSelectionRange(e,e),f.current.scrollTop=o}},0)}},onClose:()=>h(!1)})}),(0,o.jsx)("input",{type:"file",onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){let e=new FileReader;e.onload=e=>{var t;l(null===(t=e.target)||void 0===t?void 0:t.result)},e.readAsText(r)}},ref:g,style:{display:"none"}}),!a&&(0,o.jsxs)("div",{className:"upload absolute flex flex-col w-[200px] justify-center items-center left-1/2 top-1/2 ml-[-100px] mt-[-50px] opacity-50 hover:opacity-100",children:[(0,o.jsx)(j.l1U,{onClick:()=>{g.current&&g.current.click()},style:{fontSize:"48px",cursor:"pointer",marginBottom:"20px"}}),(0,o.jsx)("p",{children:"点击上传或拖拽文件到此处"})]}),(0,o.jsx)("textarea",{ref:f,value:a,onChange:e=>l(e.target.value),onClick:()=>{f.current&&x({start:f.current.selectionStart,end:f.current.selectionEnd})},className:"w-full h-full p-4 py-1 outline-none custom-scrollbar",style:{height:"calc(100vh - 100px)",border:"2px dashed #ccc"}})]})},M=function(){return(0,o.jsx)("footer",{className:"flex gap-1 flex-wrap items-center justify-center text-sm mb-5",children:(0,o.jsx)("a",{className:"text-gray-500",href:"https://www.mzh.ren",children:"\xa9 2024 码农真经"})})};function z(){let[e,t]=(0,s.useState)("");return(0,s.useEffect)(()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/serviceWorker.js").then(e=>{console.log("ServiceWorker registration successful with scope: ",e.scope)}).catch(e=>{console.log("ServiceWorker registration failed: ",e)})})},[]),(0,o.jsx)("div",{className:"w-full",children:(0,o.jsxs)("main",{className:"w-full flex gap-4 min-h-screen",children:[(0,o.jsxs)("div",{id:"nav",className:"flex flex-col",children:[(0,o.jsx)(L,{}),(0,o.jsx)(M,{})]}),(0,o.jsx)("div",{id:"preview",className:"flex-shrink-0",children:(0,o.jsx)(N,{text:e})}),(0,o.jsx)("div",{id:"editor",className:"min-h-screen flex-grow",children:(0,o.jsx)(J,{text:e,setText:t})})]})})}},9601:()=>{},4521:()=>{},2175:()=>{},8005:()=>{},3435:(e,t,r)=>{"use strict";r.d(t,{k5:()=>d});var o=r(2115),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=o.createContext&&o.createContext(s),c=["attr","size","title"];function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var o,s;o=t,s=r[t],(o=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(o))in e?Object.defineProperty(e,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[o]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>o.createElement(p,a({attr:i({},e.attr)},t),function e(t){return t&&t.map((t,r)=>o.createElement(t.tag,i({key:r},t.attr),e(t.child)))}(e.child))}function p(e){var t=t=>{var r,{attr:s,size:n,title:l}=e,d=function(e,t){if(null==e)return{};var r,o,s=function(e,t){if(null==e)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)r=n[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,c),p=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),o.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,d,{className:r,style:i(i({color:e.color||t.color},t.style),e.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),l&&o.createElement("title",null,l),e.children)};return void 0!==n?o.createElement(n.Consumer,null,e=>t(e)):t(s)}}},e=>{var t=t=>e(e.s=t);e.O(0,[817,711,441,517,358],()=>t(370)),_N_E=e.O()}]);